# Podcast Scraper Environment Configuration
# Copy this file to .env and fill in your values

# Required API Keys
OPENAI_API_KEY=sk-your-openai-api-key-here
ELEVENLABS_API_KEY=your_api_key_here
GITHUB_TOKEN=your-github-personal-access-token

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_VERBOSE=0   # 1 for verbose logging with detailed output
LOG_FORMAT=text # json for structured logs, text for human-readable

# Feed Processing Settings (Phase 4 Enhanced)
FEED_MAX_ITEMS_PER_FEED=50      # Maximum items to process per feed (reduces noise)
FEED_BREAK_ON_OLD=1             # Break processing when hitting old episodes (1=enabled, 0=disabled)
FEED_STALE_DAYS=21              # Days before warning about stale feeds
FEED_LOOKBACK_HOURS=72          # Global default lookback hours (1-168, per-feed overrides available)
FEED_GRACE_MINUTES=15           # Grace period to avoid boundary flapping (prevents scheduler drift issues)

# Phase 4: HTTP Caching & Politeness
MAX_FEED_BYTES=5242880          # Maximum feed size (5MB) - safety cap against huge downloads
FETCH_POLITENESS_MS=250         # Polite delay between requests to same host (reduces rate limiting)
ENABLE_HTTP_CACHING=1           # Enable ETag/Last-Modified caching (1=enabled, 0=disabled)
DETECT_FEED_ORDER=1             # Auto-detect typical feed ordering (1=enabled, 0=disabled)

# Phase 4: Item Tracking & Deduplication
ITEM_SEEN_RETENTION_DAYS=30     # How long to keep item_seen records for deduplication

# OpenAI Scoring & Cost Control
SCORING_MAX_PER_RUN=50          # Maximum episodes to score per run (cost control)
API_RATE_LIMIT_DELAY=1.0        # Delay between API calls in seconds
DIGEST_MODEL=gpt-5 # Model for digest generation
SCORING_MODEL=gpt-5-mini        # Cost-effective model for scoring
VALIDATOR_MODEL=gpt-5-mini      # Model for validation tasks

# Topic Relevance Settings
TOPIC_SCORE_MIN=0.65            # Minimum score to include in digest (0.0-1.0)
MAX_ITEMS_PER_TOPIC=6           # Maximum episodes per topic in digest

# Network Configuration
REQUEST_TIMEOUT=30              # HTTP request timeout in seconds
MAX_RETRIES=4                   # Maximum retry attempts for failed requests
BACKOFF_BASE_DELAY=0.5          # Base delay for exponential backoff

# Content Processing
CONTENT_NORMALIZATION=1         # Enable content normalization (1=enabled, 0=disabled)
TRANSCRIPT_MIN_LENGTH=100       # Minimum transcript length for processing

# Repository & Storage
RETENTION_DAYS=14               # Days to keep old files and episodes
CLEANUP_AUDIO_CACHE=1           # Clean audio cache after processing
CLEANUP_INTERMEDIATE_FILES=1    # Clean up intermediate processing files

# Performance Tuning
MAX_CONCURRENT_DOWNLOADS=4      # Maximum concurrent audio downloads
ASR_CHUNK_DURATION=600         # Audio processing chunk duration in seconds

# GitHub Actions / CI Environment
GITHUB_ACTIONS=false            # Set to 'true' in GitHub Actions
GITHUB_REPOSITORY=your-username/your-repo-name

# Optional: ElevenLabs Voice IDs (override defaults)
# VOICE_AI_TOOLS=21m00Tcm4TlvDq8ikWAM
# VOICE_PRODUCT_LAUNCHES=AZnzlk1XvdvUeBnXmlld
# VOICE_CREATIVE=EXAVITQu4vr4xnSDxMaL
# VOICE_TECHNICAL=ErXwobaYiN019PkySvjV
# VOICE_BUSINESS=VR6AewLTigWG4xSOukaG
# VOICE_SOCIAL=pNInz6obpgDQGcFmaJgB
# VOICE_HOST=21m00Tcm4TlvDq8ikWAM

# Development & Testing
DRY_RUN=0                       # Enable dry run mode (1=enabled, 0=disabled)
DEBUG_MODE=0                    # Enable debug mode (1=enabled, 0=disabled)

# Feature Flags
ENABLE_TTS=1                    # Enable text-to-speech generation
ENABLE_GITHUB_DEPLOYMENT=1      # Enable GitHub releases deployment
ENABLE_RSS_GENERATION=1         # Enable RSS feed generation